{"ast":null,"code":"import _toConsumableArray from\"/home/tushar/Downloads/My Projects/learnspring/ui/react-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/home/tushar/Downloads/My Projects/learnspring/ui/react-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/tushar/Downloads/My Projects/learnspring/ui/react-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/tushar/Downloads/My Projects/learnspring/ui/react-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/tushar/Downloads/My Projects/learnspring/ui/react-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/tushar/Downloads/My Projects/learnspring/ui/react-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/tushar/Downloads/My Projects/learnspring/ui/react-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/tushar/Downloads/My Projects/learnspring/ui/react-frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from'react';import{Button,ButtonGroup,Container,Table}from'reactstrap';import AppNavbar from'./components/AppNavbar.js';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EmployeeList=/*#__PURE__*/function(_Component){_inherits(EmployeeList,_Component);var _super=_createSuper(EmployeeList);function EmployeeList(props){var _this;_classCallCheck(this,EmployeeList);_this=_super.call(this,props);_this.state={employees:[]};_this.remove=_this.remove.bind(_assertThisInitialized(_this));return _this;}_createClass(EmployeeList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('api/employees').then(function(response){return response.json();}).then(function(data){return _this2.setState({employees:data});});}},{key:\"remove\",value:function(){var _remove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var _this3=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/employees/\".concat(id),{method:'DELETE',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(){var updatedEmployees=_toConsumableArray(_this3.state.employees).filter(function(i){return i.id!==id;});_this3.setState({clients:updatedEmployees});});case 2:case\"end\":return _context.stop();}}},_callee);}));function remove(_x){return _remove.apply(this,arguments);}return remove;}()},{key:\"render\",value:function render(){var _this4=this;var _this$state=this.state,employees=_this$state.employees,isLoading=_this$state.isLoading;if(isLoading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}var employeeList=employees.map(function(employee){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{whiteSpace:'nowrap'},children:employee.name}),/*#__PURE__*/_jsx(\"td\",{children:employee.dept}),/*#__PURE__*/_jsx(\"td\",{children:employee.address}),/*#__PURE__*/_jsx(\"td\",{children:employee.email}),/*#__PURE__*/_jsx(\"td\",{children:employee.mobile}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"primary\",tag:Link,to:\"/employees/\"+employee.id,children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"danger\",onClick:function onClick(){return _this4.remove(employee.id);},children:\"Delete\"})]})})]},employee.id);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNavbar,{}),/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"float-right\",children:/*#__PURE__*/_jsx(Button,{color:\"success\",tag:Link,to:\"/employees/new\",children:\"Add Client\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Employees\"}),/*#__PURE__*/_jsxs(Table,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Dept\"}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Mobile\"}),/*#__PURE__*/_jsx(\"th\",{width:\"40%\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:employeeList})]})]})]});}}]);return EmployeeList;}(Component);export default EmployeeList;","map":{"version":3,"sources":["/home/tushar/Downloads/My Projects/learnspring/ui/react-frontend/src/components/EmployeeList.js"],"names":["React","Component","Button","ButtonGroup","Container","Table","AppNavbar","Link","EmployeeList","props","state","employees","remove","bind","fetch","then","response","json","data","setState","id","method","headers","updatedEmployees","filter","i","clients","isLoading","employeeList","map","employee","whiteSpace","name","dept","address","email","mobile"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\nimport AppNavbar from './components/AppNavbar.js';\nimport { Link } from 'react-router-dom';\n\nclass EmployeeList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {employees: []};\n        this.remove = this.remove.bind(this);\n    }\n\n    componentDidMount() {\n        fetch('api/employees')\n            .then(response => response.json())\n            .then(data => this.setState({employees: data}));\n    }\n async remove(id) {\n    await fetch(`/employees/${id}`, {\n        method: 'DELETE',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        }\n    }).then(() => {\n        let updatedEmployees = [...this.state.employees].filter(i => i.id !== id);\n        this.setState({clients: updatedEmployees});\n    });\n}\n\nrender() {\n    const {employees, isLoading} = this.state;\n\n    if (isLoading) {\n        return <p>Loading...</p>;\n    }\n\n    const employeeList = employees.map(employee => {\n        return <tr key={employee.id}>\n            <td style={{whiteSpace: 'nowrap'}}>{employee.name}</td>\n            <td>{employee.dept}</td>\n            <td>{employee.address}</td>\n            <td>{employee.email}</td>\n            <td>{employee.mobile}</td>\n            <td>\n                <ButtonGroup>\n                    <Button size=\"sm\" color=\"primary\" tag={Link} to={\"/employees/\" + employee.id}>Edit</Button>\n                    <Button size=\"sm\" color=\"danger\" onClick={() => this.remove(employee.id)}>Delete</Button>\n                </ButtonGroup>\n            </td>\n        </tr>\n    });\n\n    return (\n        <div>\n            <AppNavbar/>\n            <Container fluid>\n                <div className=\"float-right\">\n                    <Button color=\"success\" tag={Link} to=\"/employees/new\">Add Client</Button>\n                </div>\n                <h3>Employees</h3>\n                <Table className=\"mt-4\">\n                    <thead>\n                    <tr>\n                        <th width=\"30%\">Name</th>\n                        <th width=\"30%\">Dept</th>\n                        <th width=\"30%\">Address</th>\n                        <th width=\"30%\">Email</th>\n                        <th width=\"30%\">Mobile</th>\n                        <th width=\"40%\">Actions</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {employeeList}\n                    </tbody>\n                </Table>\n            </Container>\n        </div>\n    );\n}\n}\nexport default EmployeeList;"]},"metadata":{},"sourceType":"module"}